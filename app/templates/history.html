{% extends "base.html" %}
{% block title %}Historial de Entrenamientos{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center;">
    <h1>Historial de Entrenamientos</h1>
</div>
<a href="/dashboard">⬅ Volver al Dashboard</a>

<hr>

{% if logs %}
    {% for log in logs %}
    <article>
        <header>
            <strong>{{ log.session.session_name }}</strong> - 
            <small>{{ log.date.strftime('%Y-%m-%d %H:%M') }}</small>
        </header>
        
        {% for exercise_name, sets in log.exercise_logs|groupby('exercise.exercise_name') %}
            <strong style="display: block; margin-top: 0.5rem;">{{ exercise_name }}:</strong>
            <ul style="padding-left: 2rem; margin-bottom: 0.5rem;">
                {% for s in sets %}
                <li>
                    Set {{ s.set_n }}: {{ s.weight }}kg x {{ s.reps }} reps
                </li>
                {% endfor %}
            </ul>
        {% endfor %}
        
    </article>
    {% endfor %}
{% else %}
    <p>Aún no has registrado ningún entrenamiento.</p>
    <p><a href="/sessions" role="button" class="secondary">Empezá uno ahora</a></p>
{% endif %}

{% endblock %}